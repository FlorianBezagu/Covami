#{if _as == 'full'}
	<p>
		<label for='announcement.member'>&{'announcements.propose.short'}</label>
		<span name="announcement.member">
			<a href="@{Members.seeProfile(_announcement.member.id)}">
				${_announcement.member.firstname} ${_announcement.member.lastname}
			</a>
		</span>
	</p>
	<p>
		<label for='announcement.startDate'>&{'announcements.startDate'}</label>
		<span name="announcement.startDate">${_announcement.startDate.format('dd / MM / yyyy')}</span>
	</p>
	<p>
		<label for='announcement.startHour'>&{'announcements.startHour'}</label>
		<span name="announcement.startHour">${_announcement.startDate.format('HH:mm')}</span>
	</p>

	<p>
		<label>&{'announcements.steps'}</label>
		<span>&nbsp;</span>
	</p>
	
	<ul>
		<li>${_announcement.trip.from.name} (<strong>&{'announcements.startCity'}</strong>)</li>
	#{list items:_announcement.trip.cities, as:'city'}
		#{if city != _announcement.trip.from && city != _announcement.trip.to}
			<li>
				${city.name}
			</li>
		#{/if}
	#{/list}
		<li>${_announcement.trip.to.name} (<strong>&{'announcements.endCity'}</strong>)</li>
	</ul>
	
	<p>
		<label for='announcement.length'>&{'announcements.length'}</label>
		<span name="announcement.length">${_announcement.kilometers} kms</span>
	</p>
	<p>
		<label for='announcement.vehicle'>&{'announcements.vehicle'}</label>
		<span name="announcement.vehicle">${_announcement.vehicle.model.make} ${_announcement.vehicle.model.model} ${_announcement.vehicle.model.nbPlaces} &{'vehicle.places'}</span>
	</p>
	<p>
		<label for='announcement.nbPlaces'>&{'announcements.nbPlaces'}</label>
		<span name="announcement.nbPlaces">
			${_announcement.freePlaces}
		</span>
	</p>
	<p></p>
	
	#{if _announcement.passengers.contains(_me)}
		<p>
			&{'announcements.member.willParticipate'}
		</p>
		<p>
			#{form @Announcements.desist()}
				<input type="hidden" name="announcementId" value="${_announcement.id}" />
				<input class="pending" type="submit" value="&{'announcements.member.desist'}" />
			#{/form}
		</p>
	#{/if}
	#{elseif _announcement.member != _me}
		#{if _announcement.freePlaces > 0}
			#{form @Announcements.apply()}
				<input type="hidden" name="announcementId" value="${_announcement.id}" />
				<input type="submit" value="&{'announcements.apply'}" />
			#{/form}
		#{/if}
		#{else}
			&{'announcements.full'}
		#{/else}
	#{/elseif}
	
#{/if}
#{elseif _as == 'teaser' || _as == 'searchResult'}
	#{if _as == 'searchResult'}
		<tr>
			<td>
			 &{'announcements.propose'}
			<a href="@{Members.seeProfile(_announcement.member.id)}">
				${_announcement.member.firstname} ${_announcement.member.lastname}
			</a>
			:
			</td>
		</tr>
	#{/if}
	
		<tr>
			<td>${_announcement.trip.from.name}</td>
			<td>${_announcement.trip.to.name}</td>
			<td>
				#{if _announcement.freePlaces > 0}
					&{'announcements.nbPlaces'} : ${_announcement.freePlaces} 
				#{/if}
				#{else}
					&{'announcements.full.short'}
				#{/else}
			</td>
			<td class="c">${_announcement.startDate.format('dd / MM / yyyy - HH:mm')}</td>
			<td class="c">
				#{if _me != null && _announcement.passengers.contains(_me)}
						&{'announcements.member.willParticipate'}
					#{/if}
				<a class="submit" href="@{Announcements.see(_announcement.id)}">Go</a>
			</td>
		</tr>
#{/elseif}